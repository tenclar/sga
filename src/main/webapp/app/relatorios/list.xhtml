<ui:component xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">



	<h:form id="frmPesquisaEstados" prependId="false"
		styleClass="form-horizontal">

		<p:selectOneRadio value="#{estadoController.tipopesquisa}"
			style="width:30%;">
			<f:selectItem itemValue="nome" itemLabel="Nome" />
			<f:selectItem itemValue="sigla" itemLabel="Sigla" />
			<f:selectItem itemValue="tipo2" itemLabel="Tipo2" />
			<f:selectItem itemValue="tipo3" itemLabel="tipo3" />

		</p:selectOneRadio>

		<p:inputText id="cbArg" label="Argumemento" autocomplete="off"
			value="#{estadoController.argumento}" style="Width:60%"
			required="true" onkeydown="this.value = this.value.toUpperCase();"
			onkeyup="this.value = this.value.toUpperCase();" />

		<p:commandButton value="Localizar" icon="ui-icon-search"
			update="frmPesquisaEstados, frmListaEstados"
			styleClass="btn btn-success" action="#{estadoController.actpesquisa}" />

		<p:messages id="mes" showDetail="true" />
		<p:separator />

	</h:form>
	<h:form id="frmListaEstados" prependId="false">
		<p:outputPanel id="dtEstados">

			<p:dataTable id="tbl"
				paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}"
				paginator="true" rows="10" style="margin-bottom:20px"
				value="#{estadoController.list}" var="estado">

				<f:facet name="{Exporters}">
					<h:outputText value="Converções:"></h:outputText>
					<h:commandLink>
						<p:graphicImage name="img/excel.png" width="24" />
						<p:dataExporter type="xls" target="tbl" fileName="relatorio" />
					</h:commandLink>

					<h:commandLink>
						<p:graphicImage name="img/pdf.png" width="24" />
						<p:dataExporter type="pdf" target="tbl" fileName="relatorio" />
					</h:commandLink>

				</f:facet>
				<p:column id="clHeader">
					<f:facet name="header">
						<h:outputText value="#" />
					</f:facet>
					<h:outputText value="#{estado.id}" />
				</p:column>
				<p:column id="cldescr">
					<f:facet name="header">
						<h:outputText value="Nome" />
					</f:facet>
					<h:outputText value="#{estado.nome}" />
				</p:column>
				<p:column id="clEstado">
					<f:facet name="header">
						<h:outputText value="Sigla" />
					</f:facet>
					<h:outputText value="#{estado.sigla}" />
				</p:column>
				<p:column id="clUser" rendered="#{p:ifGranted('ROLE_ADMIN')}">
					<f:facet name="header">
						<h:outputText value="User" />
					</f:facet>
					<h:outputText value="#{cidade.user.username}" />
				</p:column>


			</p:dataTable>
		</p:outputPanel>
	</h:form>


</ui:component>

